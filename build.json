{
    "prepare": {
        "clean": {
            "task": "clean",
            "package": "grunt-contrib-clean",
            "options": { "force": true },
            "target": [ "<%= config.directories.target %>" ]
        }
    },
    "build": {
        "typescript": {
            "task": "ts",
            "package": "grunt-ts",
            "default": {
                "options": {
                    "module": "commonjs",
                    "compile": true
                },
                "src": "<%= config.directories.ts %>"
            }
        }
    },
    "test": {
        "unit": {
            "task": "mochaTest",
            "package": "grunt-mocha-test",
            "dependencies": [ "chai", "sinon" ],
            "test": {
                "src": [ "<%= config.files.unit %>" ],
                "quiet": "true"
            }
        },
        "acceptance": {
            "task": "cucumberjs",
            "package": "grunt-cucumber",
            "src": "<%= config.files.acceptance %>",
            "options": {
                "steps": "<%= config.files.acceptance %>",
                "modulePath": "<%= config.directories.root %>/node_modules/cucumber/lib/cucumber.js"
            }
        }
    },
    "create-deployable": {
        "bump-version": {
            "task": "release",
            "package": "grunt-release",
            "options": {
                "bump": true,
                "add": false,
                "commit": false,
                "tag": false,
                "push": false,
                "pushTags": false,
                "npm": false,
                "npmtag": true, 
                "file": "<%= config.directories.root %>/package.json",
                "folder": "<%= config.directories.root %>"
            }
        },
        "copy": {
            "task": "copy",
            "package": "grunt-contrib-copy",
            "files": "<%= config.deployable.application %>"
        }
    }
}
