{
    "directories": {
        "root": "..",
        "sources": "<%= config.directories.root %>/.build",
        "output": "<%= config.directories.root %>/target"
    },
    "filesets": {
        "php": [ "**/*.php", "!**/framework/**" ],
        "js": {
            "sources": [ "**/*.js", "!node_modules/**/*" ],
            "tests": [ ".selfvalidation/test/*.js" ]
        },
        "ini": [ "../**/*.ini" ]
    },
    "validation": {
        "syntax": {
            "js": { }
        },
        "semantic": {
            "js": { }
        }
    },
    "deployable": {
        "shell": {
            "files": [
                {
                    "expand": true,
                    "cwd": "../",
                    "src": [ "build", "build.cmd", "bpm", "bpm.cmd" ],
                    "dest": "<%= config.directories.output %>/"
                }
            ]
        },
        "js": {
            "files": [
                {
                    "expand": true,
                    "cwd": "../",
                    "src": [ "bin/*.js", ".build/*.js", ".build/prebuild/**/*", ".build/lib/**/*", ".build/.bpm/**", "!.build/node_modules/**" ],
                    "dest": "<%= config.directories.output %>/"
                }
            ]
        },
        "json": {
            "files": [
                {
                    "expand": true,
                    "cwd": "../",
                    "src": [ "./package.json" ],
                    "dest": "<%= config.directories.output %>/"
                },
                {
                    "expand": true,
                    "flatten": true,
                    "cwd": "../",
                    "src": [ "template/*.json" ],
                    "dest": "<%= config.directories.output %>/"
                },
                {
                    "expand": true,
                    "flatten": true,
                    "cwd": "../",
                    "src": [ "template/.build/*.json" ],
                    "dest": "<%= config.directories.output %>/.build/"
                }
            ]
        }
    }
}
